<div style="margin: 0; height: 100%; overflow: hidden; width: 100%;">
  <div style="position: fixed; top: 0px; left: 0px; padding: 15px;"><img src="../assets/logo/logo_blue.png" alt="float logo" width="auto" height="30px"></div>
  <div style="position: fixed; left: 50%; width: 500px; margin-left: -250px; top: 0; padding: 15px; text-align: center;"><h1>Your Projects</h1></div>

  <div  style="margin-top: 8vh;">
  <mat-form-field class="search-bar" style="width: 15%;
  margin-left: 2vw;
  padding-left: 10px;">
    <mat-label>Search</mat-label>
    <input matInput placeholder="search by name" [formControl]="searchInput" id="projects-search">
  </mat-form-field>

  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort matSortActive="createdAt" matSortDirection="desc">

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header matTooltip="Sort by name"> Name </th>
    <td mat-cell *matCellDef="let project" routerLink="/projects/{{project.id}}"> {{project.name}} </td>
  </ng-container>

  <!-- HourEstimate Column -->
  <ng-container matColumnDef="hourEstimate">
    <th mat-header-cell *matHeaderCellDef mat-sort-header matTooltip="Sort by hour estimate"> Hour Estimate </th>
    <td mat-cell *matCellDef="let project" routerLink="/projects/{{project.id}}" style="width: 20%"> {{project.hourEstimate}} </td>
  </ng-container>

  <!-- Price Column -->
  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef mat-sort-header matTooltip="Sort by price"> Price </th>
    <td mat-cell *matCellDef="let project" routerLink="/projects/{{project.id}}"> {{project.price}} </td>
  </ng-container>

  <!-- CreatedAt Column -->
  <ng-container matColumnDef="createdAt">
    <th mat-header-cell *matHeaderCellDef mat-sort-header matTooltip="Sort by creation date"> Creation Date </th>
    <td mat-cell *matCellDef="let project" routerLink="/projects/{{project.id}}" style="width: 20%"> {{project.createdAt | date}} </td>
  </ng-container>

  <!-- Deadline Column -->
  <ng-container matColumnDef="deadline">
    <th mat-header-cell *matHeaderCellDef mat-sort-header matTooltip="Sort by deadline"> Deadline </th>
    <td mat-cell *matCellDef="let project" routerLink="/projects/{{project.id}}" style="width: 20%">
      <ng-container *ngIf="project.deadline as date">
        {{(date | date)}}
      </ng-container>
    </td>
  </ng-container>


  <!-- select Column -->
  <ng-container matColumnDef="select">
    <th mat-header-cell *matHeaderCellDef> <button mat-icon-button (click)="openCreateDialog()" style="color: darkgrey"><mat-icon>add_box</mat-icon></button> </th>
    <td mat-cell *matCellDef="let project"> <button mat-icon-button (click)="openDialog(project.id)" style="color: darkgrey"><mat-icon>delete</mat-icon></button> </td>
  </ng-container>


  <tr mat-header-row *matHeaderRowDef="columns"></tr>
  <tr mat-row *matRowDef="let row; columns: columns;" class="clickable"></tr>
</table>

  <mat-paginator length="{{(projects | async)?.length}}"
                 [pageSize]="10"
                 [pageSizeOptions]="[5, 10, 15]"
                 aria-label="Select page">
  </mat-paginator>
  </div>

</div>
