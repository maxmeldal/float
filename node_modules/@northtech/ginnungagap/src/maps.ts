/**
 * Converts an ES6 Map to an object, returning undefined if the map was empty.
 */
export function mapToOptionalObject<T>(m: Map<string, T> | undefined): { [index: string]: T } | undefined {
  if (!m || m.size === 0) {
    return undefined;
  }
  const o: { [index: string]: T } = {};
  m.forEach((v, k) => o[k] = v);
  return o;
}

/**
 * Converts an ES6 Map to an object, returning an object with no properties if the map was empty.
 */
export function mapToObject<T>(m: Map<string, T> | undefined): { [index: string]: T } {
  if (!m || m.size === 0) {
    return {};
  }
  const o: { [index: string]: T } = {};
  m.forEach((v, k) => o[k] = v);
  return o;
}
